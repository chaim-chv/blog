<!DOCTYPE html>
<html lang="he">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>תוסף לדפדפן: בודק דומיינים ב-virustotal</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/fonts.css?v=ac34f1bcc3" />
    
    <script src="/assets/built/shabbos.js?v=ac34f1bcc3"></script>

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=ac34f1bcc3" />
    <link rel="stylesheet" type="text/css" href="/assets/built/rtl.css?v=ac34f1bcc3" />
    <link rel="stylesheet" type="text/css" href="/assets/built/prism.css?v=ac34f1bcc3" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <meta name="description" content="תוסף שבודק כל כתובת שנכנסים אליה בוירוסטוטאל! הסבר על השימוש וגם על הקוד - בפנים &gt;&gt;&gt;" />
    <link rel="icon" href="https://blog.chv.ovh/content/images/size/w256h256/2022/02/portait-rounded-256x256px.png" type="image/png" />
    <link rel="canonical" href="https://blog.chv.ovh/virustotal-addon/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://blog.chv.ovh/virustotal-addon/amp/" />
    
    <meta property="og:site_name" content="CHV&#x27;s blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="תוסף לדפדפן: בודק דומיינים ב-virustotal" />
    <meta property="og:description" content="תוסף שבודק כל כתובת שנכנסים אליה בוירוסטוטאל! הסבר על השימוש וגם על הקוד - בפנים &gt;&gt;&gt;" />
    <meta property="og:url" content="https://blog.chv.ovh/virustotal-addon/" />
    <meta property="og:image" content="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg" />
    <meta property="article:published_time" content="2020-12-21T08:21:14.000Z" />
    <meta property="article:modified_time" content="2022-03-20T00:53:39.000Z" />
    <meta property="article:tag" content="browser extensions" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="תוסף לדפדפן: בודק דומיינים ב-virustotal" />
    <meta name="twitter:description" content="תוסף שבודק כל כתובת שנכנסים אליה בוירוסטוטאל! הסבר על השימוש וגם על הקוד - בפנים &gt;&gt;&gt;" />
    <meta name="twitter:url" content="https://blog.chv.ovh/virustotal-addon/" />
    <meta name="twitter:image" content="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="chv" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="browser extensions" />
    <meta property="og:image:width" content="1920" />
    <meta property="og:image:height" content="1025" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "CHV&#x27;s blog",
        "url": "https://blog.chv.ovh/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.chv.ovh/content/images/size/w256h256/2022/02/portait-rounded-256x256px.png"
        }
    },
    "author": {
        "@type": "Person",
        "name": "chv",
        "image": {
            "@type": "ImageObject",
            "url": "https://www.gravatar.com/avatar/df01aec34c54df6fff2e1a61febee17d?s=250&r=x&d=mp",
            "width": 250,
            "height": 250
        },
        "url": "https://blog.chv.ovh/author/chv/",
        "sameAs": []
    },
    "headline": "תוסף לדפדפן: בודק דומיינים ב-virustotal",
    "url": "https://blog.chv.ovh/virustotal-addon/",
    "datePublished": "2020-12-21T08:21:14.000Z",
    "dateModified": "2022-03-20T00:53:39.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg",
        "width": 1920,
        "height": 1025
    },
    "keywords": "browser extensions",
    "description": "תוסף שבודק כל כתובת שנכנסים אליה בוירוסטוטאל! הסבר על השימוש וגם על הקוד - בפנים &gt;&gt;&gt;",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://blog.chv.ovh/"
    }
}
    </script>

    <meta name="generator" content="Ghost 5.18" />
    <link rel="alternate" type="application/rss+xml" title="CHV&#x27;s blog" href="https://blog.chv.ovh/rss/" />
    <script defer src="https://cdn.jsdelivr.net/ghost/portal@~2.14/umd/portal.min.js" data-ghost="https://blog.chv.ovh/" data-key="ff6c3adb86a27871ef669442ae" data-api="https://blog.chv.ovh/ghost/api/content/" crossorigin="anonymous"></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="ff6c3adb86a27871ef669442ae" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://blog.chv.ovh/" crossorigin="anonymous"></script>
    <script defer src="/public/cards.min.js?v=ac34f1bcc3"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=ac34f1bcc3">
    <script defer src="/public/member-attribution.min.js?v=ac34f1bcc3"></script>
    <!-- self-hosted umami analytics - privacy focused -->
<script async defer data-website-id="975eb99f-8334-434c-b6b5-e8aa9e6e1003" src="https://umami.chv.ovh/umami.js"></script><style>:root {--ghost-accent-color: #15171A;}</style>

    <meta name="google-site-verification" content="idgrb37VmvOFTqk3oRpi-LGYR05-7VNsWgeoc3ODs3Y" />
    
    <script src="https://onesignal.chv.ovh/sdks/OneSignalSDK.js"></script>
    <script>
        window.OneSignal = window.OneSignal || [];
            OneSignal.push(function () {
                OneSignal.init({
                    appId: "74c8b239-c6ab-4d8a-a54e-c0ba8fe5b57e",
                    notifyButton: {
                        enable: false,
                    },
                    welcomeNotification: {
                        "title": "ברוך הבא",
                        "message": "נרשמת בהצלחה"
                    }
                });
            });
    </script>

</head>
<body class="post-template tag-browser-extensions">

    <script>
    function onManageWebPushSubscriptionButtonClicked(event) {
        getSubscriptionState().then(function(state) {
            if (state.isPushEnabled) {
                /* Subscribed, opt them out */
                OneSignal.setSubscription(false);
            } else {
                if (state.isOptedOut) {
                    /* Opted out, opt them back in */
                    OneSignal.setSubscription(true);
                } else {
                    /* Unsubscribed, subscribe them */
                    OneSignal.registerForPushNotifications();
                }
            }
        });
    }

    function updateMangeWebPushSubscriptionButton() {
        var hideWhenSubscribed = false;
        var subscribeText = "הירשם להתראות בדפדפן על פוסטים חדשים";
        var unsubscribeText = "התנתק מההתראות";

        getSubscriptionState().then(function(state) {
            var buttonText = !state.isPushEnabled || state.isOptedOut ? subscribeText : unsubscribeText;

            var top = document.querySelector(topbutton);
            if (top === null) {
                return;
            }
            var bottom = document.querySelector(bottombutton);
            if (bottom === null) {
                return;
            }

            top.textContent = buttonText;
            bottom.textContent = buttonText;
        });
    }

    function getSubscriptionState() {
        return Promise.all([
          OneSignal.isPushNotificationsEnabled(),
          OneSignal.isOptedOut()
        ]).then(function(result) {
            var isPushEnabled = result[0];
            var isOptedOut = result[1];

            return {
                isPushEnabled: isPushEnabled,
                isOptedOut: isOptedOut
            };
        });
    }

    var OneSignal = OneSignal || [];
    var topbutton = "#notify-top";
    var bottombutton = "#notify-down"

    /* This example assumes you've already initialized OneSignal */
    OneSignal.push(function() {
        // If we're on an unsupported browser, do nothing
        if (!OneSignal.isPushNotificationsSupported()) {
            return;
        }
        updateMangeWebPushSubscriptionButton(topbutton);
        updateMangeWebPushSubscriptionButton(bottombutton);
        OneSignal.on("subscriptionChange", function(isSubscribed) {
            /* If the user's subscription state changes during the page's session, update the button text */
            updateMangeWebPushSubscriptionButton(topbutton);
            updateMangeWebPushSubscriptionButton(bottombutton);
        });
    });
    updateMangeWebPushSubscriptionButton(topbutton);
    updateMangeWebPushSubscriptionButton(bottombutton);

    function track(description, type, url) { if (typeof umami !== "undefined") { umami.trackEvent(description, type, url || window.location.href ) } }
    </script>

    <div class="site-wrapper">

        

<header class="site-header">
    <div class="outer site-nav-main">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left-wrapper">
        <div class="site-nav-left">
                <a class="site-nav-logo" href="https://blog.chv.ovh">CHV&#x27;s blog</a>
            <div class="site-nav-content">
                    <ul class="nav">
    <li class="nav-byt"><a href="https://blog.chv.ovh/">בית</a></li>
    <li class="nav-tsvr-qshr"><a href="https://blog.chv.ovh/contact/">צור קשר</a></li>
</ul>

                    <span class="nav-post-title dash">תוסף לדפדפן: בודק דומיינים ב-virustotal</span>
            </div>
        </div>
    </div>
    <div class="site-nav-right">
            <div class="social-links">
            </div>

            <div class="notif"><a href="#notify" onclick="onManageWebPushSubscriptionButtonClicked('click')" class="notify-button" id="notify-top">התראות דפדפן</a>
            <span class="notify-button-tooltip">&zwnj; &zwnj; &zwnj; &zwnj; אפשר להירשם לעדכונים על ידי התראות דפדפן ('פושים' push) &zwnj; &zwnj; &zwnj; &zwnj;</span></div>
            <a class="subscribe-button" href="#subscribe">עדכונים ב-<i class="fa fa-envelope" aria-hidden="true"></i> או <i class="fa fa-telegram" aria-hidden="true"></i></a>

    </div>
</nav>
    </div>
</div>    <link rel="stylesheet" type="text/css" href="/assets/built/scroll.css?v=ac34f1bcc3" />
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-browser-extensions ">

            <header class="post-full-header">

                <section class="post-full-tags">
                    <a href="/tag/browser-extensions/">browser extensions</a>
                </section>

                <h1 class="post-full-title">תוסף לדפדפן: בודק דומיינים ב-virustotal</h1>

                <p class="post-full-custom-excerpt">תוסף שבודק כל כתובת שנכנסים אליה בוירוסטוטאל! הסבר על השימוש וגם על הקוד - בפנים &gt;&gt;&gt;</p>

                <div class="post-full-byline">

                    <section class="post-full-byline-content">

                        <ul class="author-list">
                            <li class="author-list-item">

                                <div class="author-card">
                                    <img class="author-profile-image" src="https://www.gravatar.com/avatar/df01aec34c54df6fff2e1a61febee17d?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="chv" />
                                    <div class="author-info">
                                        <h2>chv</h2>
                                        <p> קרא <a href="/author/chv/">עוד פוסטים</a> מהכותב הזה </p>
                                    </div>
                                </div>

                                <a href="/author/chv/" class="author-avatar">
                                    <img class="author-profile-image" src="https://www.gravatar.com/avatar/df01aec34c54df6fff2e1a61febee17d?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="chv" />
                                </a>

                            </li>
                        </ul>

                        <section class="post-full-byline-meta">
                            <h4 class="author-name"><a href="/author/chv/">chv</a></h4>
                            <div class="byline-meta-content">
                                <time class="byline-meta-date" datetime="2020-12-21">21 דצמ׳ 2020</time>
                                <span class="byline-reading-time"><span class="bull">&bull;</span> 2 min read</span>
                            </div>
                        </section>

                    </section>


                </div>
            </header>

            <figure class="post-full-image">
                <img
                    srcset="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg 300w,
                            https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg 600w,
                            https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg 1000w,
                            https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virus.jpg"
                    alt="תוסף לדפדפן: בודק דומיינים ב-virustotal"
                />
            </figure>

            <section class="post-full-content">
                <div class="post-content">
                    <p></p><p>לאחר דיון באשכול <a href="https://mitmachim.top/post/204152">הזה</a> בפורום mitmachim.top התעוררתי לעניין שאין אף תוסף דפדפן שמבצע את הפעולה הפשוטה הזו: בודק כל כתובת שנכנסים אליה בשירות סריקת הדומיינים "<a href="https://www.virustotal.com/gui/home/url">וירוסטוטאל</a>". וירוסטוטאל, למי שלא מכיר, מספקים דו"ח של כמה עשרות כלי סריקה - כולל אנטיוירוסים ידועים (ESET, קספרסקי וכו') לכתובות באינטרנט, עם אינדיקציות לגבי סיבות החשד (במקרה ויש חשד).</p><blockquote>עדכון - מרץ 2022:<br>שוחררה גרסה ראשונית של תוסף דפדפן מוירוסטוטאל - בשם vt4browsers (="וירוסטוטאל לדפדפנים")<br>הוא עובד בדומה לתוסף הנוכחי - כדי לקבל תוצאות מהירות יש להזין מפתח API אישי וכו'</blockquote><p>כשנכנסתי קצת לעניין ראיתי שלוירוסטוטאל יש API שמאפשר לקבל מידע על כתובות רצויות, בצורה יותר 'מתוכנתת'. לאחר עיון קצר מתברר שה-API שלהם מוגבל ל-500 קריאות בלבד ביום. בהתחלה זה היה נראה לי ממש מוגזם ולא פונקציונלי (כי כל מה שתכננתי היה בדיקה של הכתובת בכל מעבר של טאב, ואני עצמי עושה את זה להשערתי כ-2000 פעמים ביום...) אבל אחר מחשבה, הכנתי אפשרות שבעצם מתגברת על זה והכל להלן:</p><p>כתבתי תוסף דפדפן (<strong>בנתיים רק לפיירפוקס,</strong> בכרום צריך לסדר את הקוד קצת), שמנטר את השינויים שמתרחשים ב<strong>טאבים</strong>, בכל שינוי של טאב הוא לוקח את כתובת ה<strong>דומיין</strong> (לא הכתובת כולה, אלא רק הכתובת הראשית - אותה אנחנו צריכים והיא תהיה דומה לעוד המון טאבים אחרים, כמובן) ומבצע שליחה שלה ל-API של וירוסטוטאל, מקבל את התשובה ואם היא מכילה התראות מוירוסים - מתריע למשתמש.</p><p>הגדרתי בתוסף, שעד 4 מנועי סריקה שמזהים כוירוס - זה רק ישנה את סמל התוסף לאזהרה כזו, ויכתוב את המספר (נגיד 3, אם יש 3 מנועי סריקה שמזהים). מעל 4 זיהויים הוא כבר מוציא נוטיפיקציה-התראה של הדפדפן על הזיהוי.</p><p>כדי להתגבר על ההגבלה של וירוסטוטאל, (אם עוקפים את ההגבלה הבקשות יקבלו תגובות 204 - חסרות תוכן) בניתי בתוסף מנגנון שמירה, שכל דומיין שמקבל מוירוסטוטאל ציון נקי, יישמר אוטומטית במאגר שהתוסף פותח, של אתרים נקיים. בכל שינוי של טאב - דבר ראשון התוסף מחפש את הכתובת במאגר שלו - ורק אם לא נמצאת שם הוא שולח אותה לבדיקה.</p><p>הפלוס במאגר זה - שאחרי שבוע של גלישה +-, כבר תגיעו לרוב האתרים שאתם גולשים אליהם דרך קבע, וכך ההגבלה על ה-API כבר לא תורגש אצלכם. כי רוב הפעמים שתעברו טאב - הדומיין שהגעתם אליו כבר יימצא במאגר ולא יישלח לבדיקה.</p><p>הגדרתי אפשרות <strong>לבטל</strong> את השמירה האוטומטית של אתרים בטוחים, למי שמעוניין בזה, וכן לנקות את המאגר. <br>אופציה חשובה נוספת היא - האפשרות להוסיף אתר בצורה ידנית למאגר (אפילו אם התוצאה שלו בוירוסטוטאל היא לא בטוחה) למקרה שיש אתר שאתם סומכים עליו ולא רוצים שהתוסף יטריד אתכם. אפשר גם להסיר כל אתר, בצורה ידנית, מהמאגר.</p><h2 id="-">פרקטי: </h2><p><strong>כדי להוריד את התוסף לדפדפן שלכם פשוט התקינו אותו מחנות התוספים של פיירפוקס <a href="https://addons.mozilla.org/he/firefox/addon/%D7%A1%D7%95%D7%A8%D7%A7-%D7%95%D7%99%D7%A8%D7%95%D7%A1%D7%98%D7%95%D7%98%D7%90%D7%9C/">כאן</a></strong>.<br>לאחר ההתקנה תידרשו להזין לתוסף את ה-API שלכם. איך להוציא API מוירוסטוטאל?<br>הירשמו לוירוסטוטאל <a href="https://www.virustotal.com/gui/join-us">כאן</a>. לאחר ההרשמה ואימות המייל היכנסו לחשבון ואז למחיצת ה-API ככה:</p><figure class="kg-card kg-image-card"><img src="https://res-1.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/virustotal-site.png" class="kg-image" alt loading="lazy" width="1054" height="422"></figure><p>תמצאו בצד שמאל את מפתח ה-API שלכם כתוב בסטרינג ארוך של אותיות ומספרים</p><figure class="kg-card kg-image-card"><img src="https://res-4.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/api-key.png" class="kg-image" alt loading="lazy" width="525" height="247"></figure><p>העתיקו אותו, ולחצו על סמל התוסף בלחצן הימני &gt; הגדרות.<br>ייפתח לכם חלון ההגדרות של התוסף שם תדביקו את ה-API. זהו, מעכשיו התוסף פעיל ויסרוק כל כתובת שתיכנסו אליה.<br>האפשרויות הקיימות:</p><figure class="kg-card kg-image-card"><img src="https://res-1.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/instructions.png" class="kg-image" alt loading="lazy" width="458" height="272"></figure><ol><li>הוספת הדומיין באופן ידני לרשימת האתרים האמינים.</li><li>הגדרות השמירה האוטומטית.</li><li>כפשוטו,</li><li>הגדרות - כולל הגדרת ה-API.</li></ol><p>כעת התוסף יעקוב אחרי פעילות מעבר הטאבים שלכם, ובכל פעם שתעברו טאב הוא ייקח את כתובת הדומיין של הטאב, יבדוק אותה (קודם במאגר, אחר כך ב-API של וירוסטוטאל) ויחווה לכם אם המיקום בטוח, או שיש עליו התראות.</p><p><strong>כתבתי את התוסף כשאני משתמש בפיירפוקס. </strong>אמנם השתדלתי לכתוב אותו בצורה שיתאים גם לכרום - אבל תמיד יש הבדלים קטנים בין הדפדפנים ומבדיקה מהירה שעשיתי - נראה שהוא טיפה פחות פונקציונלי בכרום (התהליך לא זורם שם משום מה, אני צריך לשבת על זה יותר לעומק).</p><p>עד כאן מבחינה פרקטית, מכאן קצת הסברים למי שרוצה - על פעילות התוסף, איך הוא בנוי - אשתדל להסביר בקצרה על המושגים העיקריים.</p><h2 id="--1">קוד:</h2><p>כשנתחיל לעסוק בקוד, כדאי כבר מהתחלה להציץ <a href="https://github.com/chaim-chv/virustotal-scanner-heb">בריפו הזה</a> בגיטהב - כאן העליתי את התוסף בשלמותו - תוכלו להסתכל כאן על כל הקבצים לפרטי פרטים.</p><p>התוסף בנוי - כמו כל תוסף דפדפן - דבר ראשון מקובץ <a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/master/manifest.json">מניפסט</a> - שמבהיר לדפדפן עם אלו קבצים צריך לעבוד, איך קוראים לתוסף, סמלים וכו'. בנוסף כמובן כלולים כל קבצי הסמלים (כאן בתיקייה icons) והעיקר - קבצי הקוד שהם מחולקים כאן לשלושה חלקים:</p><p>יש את קובץ הרקע <a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/master/background.js">background.js</a>, שהוא בעצם הקוד של התוסף עצמו - מה שמפקד על כל הפעילות ומה שיכול להפעיל קבצים אחרים.</p><p>יש את קובץ ה-html שמרכיב את התפריט שבהגדרות, ואיתו צמוד לו קובץ ה-js שמבצע את הרישום של הקוד API שמתקבל מהלקוח, במאגר של התוסף. הקבצים - <a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/master/option.html">option.html</a>, <a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/master/option.js">option.js</a>.</p><p>ויש בסוף גם קובץ בשם <a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/master/cors.js">cors.js</a>, הקובץ הזה בעצם עוזר לתוסף לשלוח את הבקשות לוירוסטוטאל ולקבל את התשובות בלי להיתקל בבעיה המצויה בדפדפנים - CORS - זו בעצם קבוצה של הגדרות אבטחה מסוימות שהוכנסו בשנים האחרונות לדפדפנים המובילים על מנת להימנע מפירצות אבטחה בסיסיות. אנחנו צריכים כאן לשלוח ולקבל תגובות באמצעות הפונקציה fetch וכדי להתעלות מעל החסימה של CORS - הקובץ js הזה עורך את כל התגובות שמגיעות לתוסף ומוסיף להם header שעובד על הדפדפן כאילו התגובה מתירה גישת CORS. <strong>את כל הקוד שבו העתקתי מהתוסף המצוין <a href="https://addons.mozilla.org/en-US/firefox/addon/cors-everywhere/">הזה</a> שהקוד שלו נמצא בגיטהב <a href="https://github.com/spenibus/cors-everywhere-firefox-addon">כאן</a>.</strong> קרדיט..<br>הקובץ הזה הוא בעצם, גם קובץ רקע.</p><p>בא נסתכל מה קורה כשהתוסף עולה. לעניין הניתוח של הפעילות של הקוד - זה לגמרי כמו כל אפליקציית ווב, כמו דף אינטרנט: כל הקובץ נכנס לזיכרון, כל הפונקציות נרשמות בזיכרון. פקודות שלא נמצאות בתוך פונקציות - מורצות מייד.</p><p>נסתכל על הקובץ background.js - בהתחלה הוא בעצם מעמיס לזיכרון פונקציה ארוכה בשם <code><a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/d10e63b23aad1eddc85047ab540283a26cb70b7e/background.js#L1">handleUpdated</a></code>. בפונקציה הזו כלול כל הפעילות שאמורה לקרות כאשר קורה איזה שינוי בטאבים בדפדפן. בנתיים נעקוף על זה.</p><p>אחרי כל הפונקציה הזו מגיעה פונקציה נוספת שנשמרת לזיכרון - <code><a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/d10e63b23aad1eddc85047ab540283a26cb70b7e/background.js#L172">collectmenu</a></code> - שהיא אחראית על עריכת התפריטים מחדש בכל פעם שקוראים לה (עריכת התפריט שנפתח כשלוחצים בלחצן ימני על סמל התוסף).</p><p>אחרי זה מגיע פקודה - שמוסיפה <a href="https://blog.chv.ovh/js-listener/">listener</a> - מאזין - שמאזין לאירועים שקשורים ל-<code>browserAction</code> &gt; במקרה שהאירוע הוא <code>onClicked</code> והיא מריצה בכזה מקרה פונקציה (בלי שם). המשמעות של <code>browserAction</code> היא - סמל התוסף. זה השם של האלמנט הזה, ואנחנו מאזינים לאירוע שבו לוחצים על סמל התוסף. כשקורה כזה דבר תרוץ הפונקציה שמה שהיא עושה זה:</p><pre><code class="language-javascript">chrome.storage.local.get(["api"], function (result) {
    if (typeof result.api === "undefined") {
      chrome.runtime.openOptionsPage();
    } else {
      var tab = chrome.tabs.query( { currentWindow: true, active: true }, (tabs) =&gt; {
          var url = new URL(tabs[0].url);
          if (!tabs[0].url || ["chrome:", "about:", "moz-extension:", "https://www.google.com", "https://www.virustotal.com"].some((p) =&gt; tabs[0].url.startsWith(p))) {
            return;
          } else {
            chrome.tabs.create({ url: "https://www.virustotal.com/gui/domain/" + url.hostname });
          }
        }
      );
    }
  });</code></pre><p>נתחיל מהתחלה - <code>chrome</code> זה באופן כללי פניה ל-API של הדפדפן, לאחר מכן פונים למקטע <code>storage</code> ובתוכו לאחסון המקומי (כלומר של האפליקציה הנוכחית וזה במקרה שלנו - התוסף) - <code>local</code> - בפקודת <code>get</code> - לקבל נתונים מהאחסון הזה. הפרמטר שאנחנו מזינים לפקודה הוא שם של <code>key</code> מתוך האחסון הזה. (כאן אנחנו מבקשים את הkey בשם "api"). לאחר שקיבלנו את הערך הזה מהאחסון אנחנו מריצים עליו פונקציה (משרשרים לה את הפרמטר result שזה אומר - תוצאות הבקשה מהאחסון), שבודקת - אם קיים בתוך המיקום הזה באחסון משהו או שהוא ריק (undefined - לא מוגדר). במקרה שהוא לא מוגדר - כלומר המשתמש לא הכניס למאגר עדיין את ה-API שלו, אנחנו מובילים אותו להגדרות (הרי הוא לחץ על סמל התוסף, לשם הוא צריך להגיע).</p><p>במקרה שכן קיים API במאגר, אנחנו מבינים שהמשתמש לחץ על הסמל כדי לפתוח דוח של וירוסטוטאל על הדומיין הנוכחי - אז מקבלים קודם את הכתובת של הטאב הנוכחי (על ידי פנייה לפונקציה <code>tabs.query</code> עם פרמטרים של הטאב הנוכחי והפעיל בלבד), מבצעים עליו לוגיקה קטנה כדי שיהיה מוכן לשימוש כדומיין (רק אם מגדירים את המשתנה כ-url אפשר לבצע עליו מניפולציות כגון <code>hostname</code> שמוציא רק את הדומיין מתוך הסטרינג). בודקים שאנחנו לא בטאב מערכתי (כגון הגדרות של הדפדפן, או האתר של וירוסטוטאל עצמם וכדו') שבו לא נוכל באמת להוציא דוח מוירוסטוטאל, ופותחים את הכתובת שהוכנה בטאב חדש (<code>chrome.tabs.create</code>).</p><p>זה היה המאזין שמחכה ללחיצה על סמל התוסף.</p><p>לאחר מכן, מגיע <code><a href="https://github.com/chaim-chv/virustotal-scanner-heb/blob/d10e63b23aad1eddc85047ab540283a26cb70b7e/background.js#L264">window.onload</a></code> - שכמו ב-html רגיל - מאזין לאירוע של - טעינה מלאה של הדף. ואז מריץ את הקוד. כאן הוא משמש להרצה של קוד שרוצים להריץ מיד כשהתוסף עולה.</p><pre><code class="language-javascript">window.onload = function () {
  console.log("Extension has started...");
  chrome.storage.local.get(["sites"], function (result) {
    if (typeof result.sites === "undefined") {
      console.log("no site list, starting one with example.com");
      chrome.storage.local.set({ sites: ["example.com"] }, function () {});
    } else {
      console.log("safe site list found, have " + result.sites.length + " sites in the list");
      return;
    }
  });
  chrome.storage.local.get(["collect"], function (result) {
    if (typeof result.collect === "undefined") {
      console.log("no collect safe sites choice, set as true by default");
      chrome.storage.local.set({ collect: true }, function () {});
    } else {
      console.log("collecting safe sites: " + result.collect);
      return;
    }
  });
  chrome.storage.local.get(["api"], function (result) {
    if (typeof result.api === "undefined") {
      console.log("no api key in storage, warning user");
      chrome.browserAction.setIcon({ path: "icons/warn.png" });
      chrome.browserAction.setTitle({
        title: `אישי. לחץ על הסמל כדי לגשת להגדרות API עוד לא הגדרת מפתח`,
      });
      chrome.storage.onChanged.addListener(function () {
        chrome.storage.local.get(["api"], function (result) {
          if (typeof result.api === "undefined") {
            return;
          } else {
            console.log("api key set: " + result.api);
            chrome.tabs.onUpdated.addListener(handleUpdated);
          }
        });
      });
    } 
    else {
      console.log("api key found: " + result.api);
      chrome.tabs.onUpdated.addListener(handleUpdated);
    }
  });
  chrome.contextMenus.removeAll();
  collectmenu();
};</code></pre><p>התהליך הוא כזה.<br>בהתחלה בודקים אם קיים באחסון של התוסף מאגר של הכתובות האמינות. אם לא - יוצרים אחד כזה עם פייק ערך (example.com) פשוט כדי לא להצטרך לבדוק אם קיים כזה מאגר בכל שינוי טאב.<br>זה בעצם מה שעושה הקטע הזה:</p><pre><code class="language-javascript">chrome.storage.local.get(["sites"], function (result) {
    if (typeof result.sites === "undefined") {
      console.log("no site list, starting one with example.com");
      chrome.storage.local.set({ sites: ["example.com"] }, function () {});
    } else {
      console.log("safe site list found, have " + result.sites.length + " sites in the list");
      return;
    }
  });</code></pre><p>בהתחלה מבקשים את המאגר, בודקים אם מה שהתקבל זה אכן בעל תוכן או ריק (<code>undefined</code>). במקרה ואכן ריק נוצר מאגר פייק כנ"ל, אחרת - לוג שהכל בסדר.</p><p>לאחר מכן בודקים אם קיימת הגדרה (באחסון) לגבי שמירת אתרים בטוחים בצורה אוטומטית. אם אין הגדרה כזו (לטוב או למוטב) יוצרים את ההגדרה שישמור (collect: true).</p><p>לאחר מכן בודקים אם הוגדר על ידי המשתמש API של וירוסטוטאל. אם לא - משנים את סמל התוסף לאזהרה כדי למשוך את היוזר, ויוצרים מאזין listener לשינויים באחסון, כדי שברגע שהיוזר יזין באמת את ה-API (בהגדרות) מייד התוסף יקלוט את זה ויתחיל לפעול על ה-API החדש.</p><p>לאחר מכן מגיעה השורה החשובה שהיא בעצם מפעילה את הפונקציה הקריטית בתוסף:</p><pre><code class="language-javascript">chrome.tabs.onUpdated.addListener(handleUpdated);</code></pre><p>זה יוצר מאזין לשינויים במצב הטאבים. בכל שינוי כזה הוא מפעיל את הפונקציה <code>handleUpdated</code>. הפונקציה הזו מוכנסת לזיכרון כבר בתחילת הקובץ, והיא מבצעת את השלבים הבאים לפי סדר (שימו לב אני כותב בשפה של מחשב, בערך, כי כך זה יוצא הכי ברור, תכלס):</p><p>דבר ראשון הפונקציה מקבלת את הפרמטרים הבאים - <code>tabId, tabInfo</code> - מזה היא יודעת את פרטי הטאב עליו היא רצה. הפונקציה בודקת:</p><ol><li>אם כתובת הטאב מראה שזה טאב תפעולי כגון דפי ההגדרות בכרום (:chrome) או פיירפוקס (:about) - אם כן היא מחווה את זה למשתמש מגדירה את הסמל והטקסט של התוסף ומחזירה <code>return</code> שזה בעצם פשוט עוצר את הפונקציה.</li><li>אם כתובת הטאב שייכת לחיפוש גוגל (https://google.com) או לוירוסטוטאל (אין מה לבדוק..) - התוסף לא בודק, ומחווה למשתמש שהכתובת מאושרת. וכמובן מחזיר <code>return</code>.</li><li>כעת שהכתובת עברה את שני המחסומים האלו - התוסף פותח את מאגר הכתובות האמינות ובודק האם הסטרינג של הדומיין של הטאב הנוכחי, קיים במאגר. לפני שמתחילים צריך ליצור מהכתובת של הטאב אלמנט שניתן לבצע עליו מניפולציות של כתובת URL. לכן עושים ככה:</li></ol><pre><code class="language-javascript">var domain = new URL(tabInfo.url);</code></pre><p>ואז פותחים את המאגר ובודקים אותו מול השלב hostname שבתוך המשתנה <code>domain</code> שנוצר (hostname ייקח מה-URL את כתובת הדומיין בלבד ויזרוק את כל השאר):</p><pre><code class="language-javascript">chrome.storage.local.get(["sites"], function (result) {
    if (result.sites.indexOf(domain.hostname) &gt; -1)</code></pre><p>אם הכתובת נמצאה במאגר - מתחיל תהליך כזה: חיווי למשתמש שהכתובת בטוחה, עם ציון שזה מהמאגר. ואז יוצרים את התפריט ימני שמאפשר למחוק את הכתובת מהמאגר, ולבסוף <code>return</code>.</p><p>אם הכתובת לא נמצאה במאגר (<code>else</code> של ה-<code>if</code> שבקטע הקודם) מתחיל תהליך של שליחת הכתובת לבדיקה. מוציאים מהזיכרון את מפתח ה-API שמשמש לבדיקה מול וירוסטוטאל, מרכיבים אותו בבקשה (<code>fetch</code>) שולחים אותה ומקבלים את התשובה. כעת מתעסקים עם התשובה - צריך לבדוק שלא היו שגיאות בבקשה או תקלות אחרות, את זה בודקים עם קוד תגובה (response status).</p><p><strong>204</strong> - וירוסטוטאל מגבילים את השימוש ב-API כזכור, ובמקרה של עקיפה של ההגבלה - כל בקשה תקבל תגובה ריקה (no content) עם קוד 204. כך שבשלב ראשון בודקים אם הקוד הוא 204, אם כן מחווים למשתמש ו-<code>return</code>.</p><p><strong>200</strong> - תשובה תקינה. עכשיו פותחים את התשובה ובודקים את האובייקט <code>data.positives</code>, הוא זה שמכיל את כמות המנועים שזיהו את הכתובת כבעייתית:</p><pre><code class="language-javascript">if (data.positives &gt; 0 &amp;&amp; data.positives &lt; 4)</code></pre><p>גדול מ-0 אבל קטן מ-4. במקרה כזה מחווים למשתמש ונותנים לו אפשרות להכניס את האתר לרשימת האמינים.</p><pre><code class="language-javascript">if (data.positives &gt; 3)</code></pre><p>גדול מ-3 (כלומר 4 או יותר) - מוציאים התראה (<code>chrome.notifications.create</code>) ויוצרים את האפשרות להכניס לרשימת האתרים האמינים.</p><p>אם שני התנאים הללו לא מתקיימים (כלומר נקי) מחווים למשתמש שהאתר נקי, בודקים אם מוגדרת האפשרות של שמירה אוטומטית של אתרים נקיים לרשימה - אם כן, מכניסים את הכתובת לרשימה.</p><p><strong>הפונקציה collectmenu </strong>אחראית על בנייה מחדש, בכל פעם, של התפריט הימני. היא פשוט יוצרת את הכפתורים של הגדרת השמירה האוטומטית והגדרות.</p><h2 id="--2">קצת רפרנס..</h2><ul><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage/StorageArea/get">chrome.storage.local.get</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction">chrome.browserAction</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus/create">chrome.contextMenus</a></li><li><a href="https://developer.mozilla.org/en/docs/Web/API/notification">chrome.notifications</a></li></ul><p>הקישורים הם ל-MDN.</p><hr><p>כל הקוד נמצא בריפו הזה בגיטהב <a href="https://github.com/chaim-chv/virustotal-scanner-heb">https://github.com/chaim-chv/virustotal-scanner-heb</a><br>מוזמנים לערוך ולשפר!</p>
                    <hr class="tg-delete">
                    <p class="tg-delete">
                        <strong>אם יש לכם איזו שאלה ❔✨ או כל תגובה 💬, הארה 💡 והערה ❕ שהיא על הפוסט - אשמח מאוד! אם תכתבו אותה בהערות כאן למטה</strong>
                        <br>
                        פשוט להתחבר עם חשבון גיטהב ולהגיב 🎉
                    </p>
                    
                </div>

                <script src="https://utteranc.es/client.js" 
                  repo="chaim-chv/blog-comments" 
                  issue-term="og:title" 
                  label="✨💬✨comment"
                  theme="github-dark" 
                  crossorigin="anonymous" async>
                </script>

            </section>


            <section class="subscribe-form">

    <h3 class="subscribe-form-title" style="border-bottom: 3px solid green;">הירשם ל-CHV&#x27;s blog</h3>
    <p class="subscribe-form-description">
        <strong style="color: whitesmoke;">🔔 התראות דפדפן 🔔</strong>
        <br>
        אפשר לקבל התראות פוש מהאתר על כל פוסט חדש!
        <br>
        לחץ על הכפתור למעלה או בתחתית העמוד כדי להתחבר
        </p>
        <br><div style="border-top: 3px solid green"></div><br>
        <p class="subscribe-form-description">
        הרשמה לעדכונים במייל על פוסטים חדשים:
        <input style="margin: 10px 0 10px 0;" type="email" class="subscribe-email" id="mailform-down-email" placeholder="myemail@gmail.com" autocomplete="on">
        <input style="margin: 10px 0 10px 0;" type="name" class="subscribe-email" id="mailform-down-name" placeholder="שם (למען הסדר הטוב)" autocomplete="on">
        <button class="button primary" type="button" onclick="subscribe()">
            <span class="button-content">הרשמה</span>
            <span class="button-loader">
                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                    y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                    <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />
                    <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                C22.32,8.481,24.301,9.057,26.013,10.047z">
                        <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20"
                            dur="0.5s" repeatCount="indefinite" />
                    </path>
                </svg>
            </span>
        </button><br>
        <span id="sub-results"></span>
        </p><br><div style="border-top: 3px solid green"></div><br>
        <p class="subscribe-form-description">
        או שתירשמו ל<strong>ערוץ הטלגרם</strong> שגם בו אני אעלה בעז"ה הודעה בכל פוסט חדש כאן<br>
        <strong><a href="https://t.me/chvsblog" target="_blank">לחצו כאן כדי לעבור לערוץ בטלגרם</a></strong>
    </p>

    <script src="/assets/built/subscribe.js?v=ac34f1bcc3"></script>

</section>

        </article>

    </div>
</main>
								
	<div class="progress-wrap">
		<svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
			<path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
		</svg>
	</div>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card">
                    <header class="read-next-card-header">
                        <h3><span>עוד ב-</span><a href="/tag/browser-extensions/">browser extensions</a></h3>
                    </header>
                    <div class="read-next-card-content">
                        <ul>
                            <li>
                                <h4><a href="/tabs-duplicator/">משכפל הטאבים - תוסף לדפדפן</a></h4>
                                <div class="read-next-card-meta">
                                    <p><time datetime="2020-11-29">29 נוב׳ 2020</time> –
                                        1 min read</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="/tag/browser-extensions/">פוסט 1
                            →</a>
                    </footer>
                </article>

                <article class="post-card post tag-intresting ">

    <a class="post-card-image-link" href="/true-random/">
        <img class="post-card-image"
            srcset="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/digits.jpg 300w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/digits.jpg 600w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/digits.jpg 1000w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/digits.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            loading="lazy"
            src="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/digits.jpg"
            alt="רנדומליות - בקוד. איך זה יכול לעבוד??? 🤔"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/true-random/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">intresting</div>
                <h2 class="post-card-title">רנדומליות - בקוד. איך זה יכול לעבוד??? 🤔</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>תוכנה מייצרת מספרים אקראיים: כשחושבים על זה פתאום זה נשמע סותר? מתברר שזה קצת מסובך >>></p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        chv
                    </div>
            
                    <a href="/author/chv/" class="static-avatar">
                        <img class="author-profile-image" src="https://www.gravatar.com/avatar/df01aec34c54df6fff2e1a61febee17d?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="chv" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/chv/">chv</a></span>
                <span class="post-card-byline-date"><time datetime="2021-02-01">1 פבר׳ 2021</time> <span class="bull">&bull;</span> דקה אחת קריאה</span>
            </div>
        </footer>

    </div>

</article>

                <article class="post-card post tag-javascript ">

    <a class="post-card-image-link" href="/js-listener/">
        <img class="post-card-image"
            srcset="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/listen.png 300w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/listen.png 600w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/listen.png 1000w,
                    https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/listen.png 2000w"
            sizes="(max-width: 1000px) 400px, 700px"
            loading="lazy"
            src="https://res-5.cloudinary.com/hxitlswav/image/upload/q_auto/v1/ghost-blog-images/listen.png"
            alt="מושגים בסיסיים ב-js: מאזין listener"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/js-listener/">

            <header class="post-card-header">
                    <div class="post-card-primary-tag">javascript</div>
                <h2 class="post-card-title">מושגים בסיסיים ב-js: מאזין listener</h2>
            </header>

            <section class="post-card-excerpt">
                    <p>'מאזין' זה אלמנט מסוים בקוד שמחכה לאירוע שהוגדר לו ואז מריץ את הפקודה.
הנה הסבר קצר על זה ואיך זה עובד >>></p>
            </section>

        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
            
                    <div class="author-name-tooltip">
                        chv
                    </div>
            
                    <a href="/author/chv/" class="static-avatar">
                        <img class="author-profile-image" src="https://www.gravatar.com/avatar/df01aec34c54df6fff2e1a61febee17d?s&#x3D;250&amp;r&#x3D;x&amp;d&#x3D;mp" alt="chv" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/chv/">chv</a></span>
                <span class="post-card-byline-date"><time datetime="2020-12-18">18 דצמ׳ 2020</time> <span class="bull">&bull;</span> דקה אחת קריאה</span>
            </div>
        </footer>

    </div>

</article>
        </div>
    </div>
</aside>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://blog.chv.ovh">CHV&#x27;s blog</a> &copy; 2022</section>
                <nav class="site-footer-nav">
                    <a href="https://blog.chv.ovh">פוסטים אחרונים</a>
                    
                    <a href="#notify" onclick="onManageWebPushSubscriptionButtonClicked('click')" id="notify-down">התראות דפדפן</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-close-overlay" href="#"></a>
        <a class="subscribe-close-button" href="#"></a>
        <div class="subscribe-overlay-content">
            <div class="subscribe-form">
                <h1 class="subscribe-overlay-title">הירשם ל-CHV&#x27;s blog</h1>
                <p class="subscribe-overlay-description">
        הרשמה לעדכונים במייל על פוסטים חדשים:
        <input style="margin: 10px 0 10px 0;" type="email" class="subscribe-email subscribe-up-email" id="mailform-up-email" placeholder="myemail@gmail.com" autocomplete="on">
        <input style="margin: 10px 0 10px 0;" type="name" class="subscribe-email subscribe-up-email" id="mailform-up-name" placeholder="שם (למען הסדר הטוב)" autocomplete="on">
        <button class="button primary" type="button" onclick="subscribeup()">
            <span class="button-content">הרשמה</span>
            <span class="button-loader-up">
                <svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                    y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">
                    <path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
                s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
                c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z" />
                    <path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0
                C22.32,8.481,24.301,9.057,26.013,10.047z">
                        <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20"
                            dur="0.5s" repeatCount="indefinite" />
                    </path>
                </svg>
            </span>
        </button><br>
        <span id="sub-results-up"></span><br>
        <br>או שתירשמו ל<strong>ערוץ הטלגרם</strong> שגם בו אני אעלה בעז"ה הודעה בכל פוסט חדש כאן<br><strong><a href="https://t.me/chvsblog" target="_blank">לחצו כאן כדי לעבור לערוץ בטלגרם</a></strong></p>
            </div>
        </div>
    </div>

    <script src="/assets/built/subscribe-overlay.js?v=ac34f1bcc3"></script>

    <script src="/assets/built/jquery+members+prism.js?v=ac34f1bcc3"></script>

    <script src="/assets/built/casper.js?v=ac34f1bcc3"></script>

        <script src="/assets/built/postscroll.js?v=ac34f1bcc3"></script>


    <style>
::selection {
  color: black
}
</style>

</body>
</html>
